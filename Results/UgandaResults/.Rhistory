mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + low$eprevfail + mid$eprevfail
sens_num <- (top$all_esens*top$all_eprevfail) + low$edet + mid$edet
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(mid$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(sens, eff, rds)
}
comb_hypred <- function(dataset, mid_method, low_method){
temp <- dataset
top <- temp[temp$section=="top",]
mid <- temp[temp$section=="mid",]
low <- temp[temp$section=="low",]
if (mid_method=="mss"){
mid$eprevfail <- mid$mss_eprevfail
mid$edet <- mid$mss_esens*mid$mss_eprevfail
mid$t <- mid$mss_t
mid$rds <- mid$mss_rds
}
else if (mid_method=="linreg"){
mid$eprevfail <- mid$linreg_eprevfail
mid$edet <- mid$linreg_esens*mid$linreg_eprevfail
mid$t <- mid$linreg_t
mid$rds <- mid$linreg_rds
}
else if (mid_method=="lrsoe"){
mid$eprevfail <- mid$lrsoe_eprevfail
mid$edet <- mid$mss_esens*mid$lrsoe_eprevfail
mid$t <- mid$lrsoe_t
mid$rds <- mid$lrsoe_rds
}
else if (mid_method=="mincov"){
mid$eprevfail <- mid$mincov_eprevfail
mid$edet <- mid$mss_esens*mid$mincov_eprevfail
mid$t <- mid$mincov_t
mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + low$eprevfail + mid$eprevfail
sens_num <- (top$all_esens*top$all_eprevfail) + low$edet + mid$edet
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(mid$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(sens, eff, rds)
}
debug(comb_hypred)
comb_hypred(hypred_AGAIG_SD0_ME0)
debug(comb_hypred)
comb_hypred(hypred_AGAIG_SD0_ME0, mid_method="linreg", low_method="mincov")
View(mid)
View(low)
View(mid)
View(low)
comb_hypred <- function(dataset, mid_method, low_method){
temp <- dataset
top <- temp[temp$section=="top",]
mid <- temp[temp$section=="mid",]
low <- temp[temp$section=="low",]
if (mid_method=="mss"){
mid$eprevfail <- mid$mss_eprevfail
mid$edet <- mid$mss_esens*mid$mss_eprevfail
mid$t <- mid$mss_t
mid$rds <- mid$mss_rds
}
else if (mid_method=="linreg"){
mid$eprevfail <- mid$linreg_eprevfail
mid$edet <- mid$linreg_esens*mid$linreg_eprevfail
mid$t <- mid$linreg_t
mid$rds <- mid$linreg_rds
}
else if (mid_method=="lrsoe"){
mid$eprevfail <- mid$lrsoe_eprevfail
mid$edet <- mid$mss_esens*mid$lrsoe_eprevfail
mid$t <- mid$lrsoe_t
mid$rds <- mid$lrsoe_rds
}
else if (mid_method=="mincov"){
mid$eprevfail <- mid$mincov_eprevfail
mid$edet <- mid$mss_esens*mid$mincov_eprevfail
mid$t <- mid$mincov_t
mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + sum(low$eprevfail, na.rm=TRUE) + sum(mid$eprevfail, na.rm=TRUE)
sens_num <- (top$all_esens*top$all_eprevfail) + sum(low$edet, na.rm=TRUE) + sum(mid$edet, na.rm=TRUE)
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(mid$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(sens, eff, rds)
}
debug(comb_hypred)
comb_hypred(hypred_AGAIG_SD0_ME0, mid_method="linreg", low_method="mincov")
View(top)
View(low)
View(mid)
sens_denom
sens_num
sens
eff_denom
eff_num
View(top)
View(mid)
sum(mid$t)
sum(low$t)
eff
rds_denom
comb_hypred <- function(dataset, mid_method, low_method){
temp <- dataset
top <- temp[temp$section=="top",]
mid <- temp[temp$section=="mid",]
low <- temp[temp$section=="low",]
if (mid_method=="mss"){
mid$eprevfail <- mid$mss_eprevfail
mid$edet <- mid$mss_esens*mid$mss_eprevfail
mid$t <- mid$mss_t
mid$rds <- mid$mss_rds
}
else if (mid_method=="linreg"){
mid$eprevfail <- mid$linreg_eprevfail
mid$edet <- mid$linreg_esens*mid$linreg_eprevfail
mid$t <- mid$linreg_t
mid$rds <- mid$linreg_rds
}
else if (mid_method=="lrsoe"){
mid$eprevfail <- mid$lrsoe_eprevfail
mid$edet <- mid$mss_esens*mid$lrsoe_eprevfail
mid$t <- mid$lrsoe_t
mid$rds <- mid$lrsoe_rds
}
else if (mid_method=="mincov"){
mid$eprevfail <- mid$mincov_eprevfail
mid$edet <- mid$mss_esens*mid$mincov_eprevfail
mid$t <- mid$mincov_t
mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + sum(low$eprevfail, na.rm=TRUE) + sum(mid$eprevfail, na.rm=TRUE)
sens_num <- (top$all_esens*top$all_eprevfail) + sum(low$edet, na.rm=TRUE) + sum(mid$edet, na.rm=TRUE)
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(low$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(sens, eff, rds)
}
debug(comb_hypred)
comb_hypred(hypred_AGAIG_SD0_ME0, mid_method="linreg", low_method="mincov")
rds_denom
rds_num
rds
comb_hypred <- function(dataset, mid_method, low_method){
temp <- dataset
top <- temp[temp$section=="top",]
mid <- temp[temp$section=="mid",]
low <- temp[temp$section=="low",]
if (mid_method=="mss"){
mid$eprevfail <- mid$mss_eprevfail
mid$edet <- mid$mss_esens*mid$mss_eprevfail
mid$t <- mid$mss_t
mid$rds <- mid$mss_rds
}
else if (mid_method=="linreg"){
mid$eprevfail <- mid$linreg_eprevfail
mid$edet <- mid$linreg_esens*mid$linreg_eprevfail
mid$t <- mid$linreg_t
mid$rds <- mid$linreg_rds
}
else if (mid_method=="lrsoe"){
mid$eprevfail <- mid$lrsoe_eprevfail
mid$edet <- mid$mss_esens*mid$lrsoe_eprevfail
mid$t <- mid$lrsoe_t
mid$rds <- mid$lrsoe_rds
}
else if (mid_method=="mincov"){
mid$eprevfail <- mid$mincov_eprevfail
mid$edet <- mid$mss_esens*mid$mincov_eprevfail
mid$t <- mid$mincov_t
mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + sum(low$eprevfail, na.rm=TRUE) + sum(mid$eprevfail, na.rm=TRUE)
sens_num <- (top$all_esens*top$all_eprevfail) + sum(low$edet, na.rm=TRUE) + sum(mid$edet, na.rm=TRUE)
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(low$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(c(sens, eff, rds))
}
comb_hypred(hypred_AGAIG_SD0_ME0, mid_method="linreg", low_method="mincov")
comb_hypred(hypred_AGAIG_SD0_ME0, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_SD0_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_SD0_ME.5, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_SD0_ME.75, mid_method="mincov", low_method="mincov")
View(hypred_AGAIG_ME.05)
View(hypred_AGAIG_SD0_ME.75)
comb_hypred(hypred_AGAIG_ME.05, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_ME.12, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_ME.5, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_SD0_ME0, mid_method="mincov", low_method="mincov")
debug(comb_hypred)
comb_hypred(hypred_reverse_SD0_ME0, mid_method="mincov", low_method="mincov")
sum(temp$VL>=1000)
View(temp)
sum(mini_eprevfail)
sum(temp$mini_eprevfail)
sum(temp$mini_eprevfail, na.rm=TRUE)
View(temp)
View(temp)
comb_hypred <- function(dataset, mid_method, low_method){
temp <- dataset
top <- temp[temp$section=="top",]
mid <- temp[temp$section=="mid",]
low <- temp[temp$section=="low",]
if (mid_method=="mss"){
mid$eprevfail <- mid$mss_eprevfail
mid$edet <- mid$mss_esens*mid$mss_eprevfail
mid$t <- mid$mss_t
mid$rds <- mid$mss_rds
}
else if (mid_method=="linreg"){
mid$eprevfail <- mid$linreg_eprevfail
mid$edet <- mid$linreg_esens*mid$linreg_eprevfail
mid$t <- mid$linreg_t
mid$rds <- mid$linreg_rds
}
else if (mid_method=="lrsoe"){
mid$eprevfail <- mid$lrsoe_eprevfail
mid$edet <- mid$mss_esens*mid$lrsoe_eprevfail
mid$t <- mid$lrsoe_t
mid$rds <- mid$lrsoe_rds
}
else if (mid_method=="mincov"){
mid$eprevfail <- mid$mincov_eprevfail
mid$edet <- mid$mss_esens*mid$mincov_eprevfail
mid$t <- mid$mincov_t
mid$rds <- mid$mincov_rds
}
else if (mid_method=="mini"){
mid$eprevfail <- mid$mini_eprevfail
mid$edet <- mid$mss_esens*mid$mini_eprevfail
mid$t <- mid$mini_t
mid$rds <- mid$mini_rds
}
if (low_method=="mss"){
low$eprevfail <- low$mss_eprevfail
low$edet <- low$mss_esens*low$mss_eprevfail
low$t <- low$mss_t
low$rds <- low$mss_rds
}
else if (low_method=="linreg"){
low$eprevfail <- low$linreg_eprevfail
low$edet <- low$linreg_esens*low$linreg_eprevfail
low$t <- low$linreg_t
low$rds <- low$linreg_rds
}
else if (low_method=="lrsoe"){
low$eprevfail <- low$lrsoe_eprevfail
low$edet <- low$mss_esens*low$lrsoe_eprevfail
low$t <- low$lrsoe_t
low$rds <- low$lrsoe_rds
}
else if (low_method=="mincov"){
low$eprevfail <- low$mincov_eprevfail
low$edet <- low$mss_esens*low$mincov_eprevfail
low$t <- low$mincov_t
low$rds <- low$mincov_rds
}
else if (low_method=="mini"){
low$eprevfail <- low$mini_eprevfail
low$edet <- low$mss_esens*low$mini_eprevfail
low$t <- low$mini_t
low$rds <- low$mini_rds
}
sens_denom <- top$all_eprevfail + sum(low$eprevfail, na.rm=TRUE) + sum(mid$eprevfail, na.rm=TRUE)
if (is.na(top$all_esens)){
sens_num <- sum(low$edet, na.rm=TRUE) + sum(mid$edet, na.rm=TRUE)
}
else {sens_num <- (top$all_esens*top$all_eprevfail) + sum(low$edet, na.rm=TRUE) + sum(mid$edet, na.rm=TRUE)}
sens <- round(sens_num/sens_denom, digits=4)
eff_denom <- top$all_t + (length(mid$t)*100) + (length(low$t)*100)
eff_num <- top$all_t + sum(mid$t) + sum(low$t)
eff <- (eff_denom - eff_num)/eff_denom
rds_denom <- length(mid$t) + length(low$t) + (top$all_t/100)
rds_num <- (top$all_t/100) + sum(mid$rds) + sum(low$rds)
rds <- round(rds_num/rds_denom, digits=1)
return(c(sens, eff, rds))
}
comb_hypred(hypred_AGAIG_ME.5, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_SD0_ME0, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_AGAIG_SD0_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_SD0_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_SD0_ME.5, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_SD0_ME.75, mid_method="mincov", low_method="mincov")
View(hypred_reverse_ME.25)
View(hypred_reverse_SD0_ME.25)
View(hypred_reverse_SD0_ME.5)
View(hypred_reverse_SD0_ME0)
View(hypred_reverse_SD0_ME.75)
comb_hypred(hypred_reverse_ME.05, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_ME.12, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_reverse_ME.5, mid_method="mincov", low_method="mincov")
setwd("C:/Users/Barny/Dropbox/KI_Project_4/Results/Uganda")
hypred_uganda_ME0 <- read.table("Uganda_hypred_ME0.R")
setwd("C:/Users/Barny/Dropbox/KI_Project_4/Results/Uganda")
hypred_uganda_ME0 <- read.table("Uganda_hypred_ME0.R")
hypred_uganda_ME.05 <- read.table("Uganda_hypred_ME.05.R")
hypred_uganda_ME.12 <- read.table("Uganda_hypred_ME.12.R")
hypred_uganda_ME.25 <- read.table("Uganda_hypred_ME.25.R")
hypred_uganda_ME.5 <- read.table("Uganda_hypred_ME.5.R")
hypred_uganda_ME.75 <- read.table("Uganda_hypred_ME.75.R")
comb_hypred(hypred_uganda_ME0, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_uganda_ME.05, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_uganda_ME.12, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_uganda_ME.25, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_uganda_ME.5, mid_method="mincov", low_method="mincov")
comb_hypred(hypred_uganda_ME.75, mid_method="mincov", low_method="mincov")
